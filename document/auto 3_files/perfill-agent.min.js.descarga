var perfill=function(){"use strict";const e=()=>"undefined"!=typeof window,t=()=>"fetch"in window,n=()=>"navigator"in window;var r={supportsEnvironment:e,supportsNavigatorApi:n,supportsPerformanceApi:()=>"performance"in window,supportsBeaconOrFetch:()=>n()&&"sendBeacon"in window.navigator||t(),supportsFetchApi:t,supportsMatchMediaApi:()=>e()&&void 0!==window.matchMedia,supportsPreloadState:()=>e()&&"__PRELOADED_STATE__"in window,supportsWeakSet:()=>"WeakSet"in window};const o={},a={};var i={subscribe:(e,t)=>{a[e]=a[e]||[],a[e].push(t),(o[e]||[]).map((e=>t(e))),delete o[e]},queue:(e,t)=>{const n=a[e]||[];n.forEach((e=>e(t))),n.length||(o[e]=o[e]||[],o[e].push(t))}},c={CLIENT_COOKIES:"client-cookies",WEB_VITALS:"web-vitals",PAGE_RENDER:"page-render",A11Y:"a11y",AVAILABILITY:"availability",CDN_HEALTH:"cdn-health",TRAFFIC_HEALTH:"traffic-health"},s={endpoint:"https://events.mercadolibre.com/v2/perf-metric",deviceInfoMetrics:["ram-size","cpu-cores"],connectionInfoMetrics:["network-type","network-speed","user-agent","save-data","rtt"],clientInfo:["name","version"],tags:["platform","site","application","device","webview","scope"],browserInfoMetrics:["d2id","url","dark-mode"]},d=s,u=s;var l={arrayOperator:e=>e.reduce(((e,t)=>e.concat(t)),[]),objectOperator:e=>Object.keys(e).reduce(((t,n)=>{const r=e[n],o="object"!=typeof r||Array.isArray(r)||null===r?{[n]:r}:r;return Object.assign(t,o)}),{})};const{objectOperator:p}=l;var E=p([s,{thresholdEntries:{img:25e4,script:17e4,style:5e4},fileSupport:{img:["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"],script:["js"],style:["css"]}}]),m=s;const{objectOperator:f}=l;var T=f([s,{endpoint:"https://events.mercadolibre.com/dom"}]);var v=(e={},t=[])=>t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{}),w={AVAILABILITY_FAILURE:"failure",AVAILABILITY_TRANSFER_SIZE:"transfersize",AVAILABILITY_BROWSER_ERRORS:"errors-js",BROWSER:"browser",WINDOW_DOM:"window-dom",D2ID:"d2id",NETWORK_TYPE:"network-type",NETWORK_SPEED:"network-speed",USER_AGENT:"user-agent",RAM_SIZE:"ram-size",WINDOW_WIDTH:"window-width",WINDOW_HEIGHT:"window-height",LCP:"lcp",CLS:"cls",FCP:"fcp",FID:"fid",TBT:"tbt",TBT_FINAL:"tbtFinal",LCP_FINAL:"lcpFinal",CLS_FINAL:"clsFinal",TTFB:"time-to-first-byte",DNS_LOOKUP_TIME:"dns-lookup-time",DOWNLOAD_TIME:"download-time",FETCH_TIME:"fetch-time",HEADER_SIZE:"header-size",TOTAL_TIME:"total-time",WORKER_TIME:"worker-time",HYDRATE_COMPLETE:"hydrate-complete",HYDRATE_DURATION:"hydrate-duration",REDIRECT_COUNT:"redirect-count",DOM_COMPLETE:"dom-complete",DOM_INTERACTIVE:"dom-interactive",DOM_CONTENT_LOADED_END:"dom-content-loaded-end",DOM_CONTENT_LOADED_START:"dom-content-loaded-start",DOM_CONTENT_LOADED:"dom-content-loaded",ONLOAD:"onload",ONLOAD_END:"onload-end",ONLOAD_START:"onload-start",REQUEST_START:"request-start",RESPONSE_START:"response-start",RESPONSE_END:"response-end",RESPONSE_TIME:"response-time",NAVIGATION_TYPE:"navigation-type",INITIAL_CONTENT_SIZE:"initial-content-size",DARK_MODE:"dark-mode",REDUCED_MOTION:"reduced-motion",REDUCED_COLOR:"reduced-contrast",URL:"url",X_CDN:"cdn",DURATION_SUM:"duration-sum",RESOURCE_SIZE:"resources-size",RESOURCE_FAILURE:"resources-failure",RESOURCE_SUCCESS:"resources-success"};const{WEB_VITALS:I}=c,{FCP:A,LCP:h,FID:_,CLS:O,TBT:g,DNS_LOOKUP_TIME:D,DOWNLOAD_TIME:L,FETCH_TIME:S,HEADER_SIZE:N,TTFB:y,TOTAL_TIME:R,WORKER_TIME:b,REDIRECT_COUNT:C,DOM_COMPLETE:M,DOM_INTERACTIVE:k,DOM_CONTENT_LOADED_END:F,DOM_CONTENT_LOADED_START:B,DOM_CONTENT_LOADED:P,ONLOAD_END:W,ONLOAD_START:U,ONLOAD:j,REQUEST_START:H,RESPONSE_START:Y,RESPONSE_END:x,RESPONSE_TIME:V,NAVIGATION_TYPE:q,INITIAL_CONTENT_SIZE:z,REDUCED_MOTION:$,REDUCED_COLOR:G}=w,K=[A,h,_,O,g,D,L,S,N,y,R,b,C,M,k,F,B,P,W,U,j,H,Y,x,V,q,z,$,G],Z=[A,h,O];var X=(e,t)=>{const n=v(t,K);if(!Object.keys(n).length)throw new Error("Metrics not found");const r=Object.keys(n);if(!Z.every((e=>-1!==r.indexOf(e))))throw new Error("Metrics missing");return{name:I,data:n}};const{PAGE_RENDER:Q}=c,{HYDRATE_COMPLETE:J,HYDRATE_DURATION:ee}=w,te=[J,ee];var ne=(e,t)=>{const n=v(t,te);if(!Object.keys(n).length)throw new Error("Metrics not found");return{name:Q,data:n}};var re=(e,t)=>e.reduce(((e,t)=>e.replace(new RegExp(t.original,"g"),t.translated)),t);const{WEB_VITALS:oe,PAGE_RENDER:ae,A11Y:ie,AVAILABILITY:ce,CDN_HEALTH:se}=c,{objectOperator:de}=l,ue={[oe]:d,[ae]:u,[ie]:T,[ce]:E,[se]:m,commons:s};var le={prepareConfiguration:e=>{const{platform:t,site:n,device:r,application:o,initiatives:a,scope:i,webview:c}=e;if(!Array.isArray(a))return null;if(t&&n&&r&&o&&a){const e={platform:t,site:n,device:r,application:o,webview:c,initiatives:a.map((e=>de({i:e,sent:!1})))};return i&&(e.scope=i),e}return null},getConfiguration:(e,t="commons",n=null)=>e in ue[t]?ue[t][e]:n};const{objectOperator:pe}=l,{getConfiguration:Ee}=le,me="commons",fe=/^([a-zA-Z]+)-(iOS|Android|AndroidNoPS|SmartPOS)?(?:\/|%2F)((?:\d+\.){2}\d+)/,Te=[{original:"SmartPOS",translated:"Android"},{original:"AndroidNoPS",translated:"Android"}],ve=(e,t=me)=>({tags:v(e,Ee("tags",t,[]))}),we=(e,t)=>{const n=v(t,["device","webview"]),r=n.webview&&"mobile"===n.device||!1,o=e["user-agent"]||"",a=fe.exec(o),i=a?re(Te,a[2]).toLowerCase():null;if(n.webview&&!i)throw new Error("Unknown device native type");return`${r?"webview":"web"}/${r?i:n.device}`};var Ie={prepareTags:ve,prepareEventTags:(e,t,n=me)=>{const{tags:r}=ve(t,n);return{tags:pe({tags:r,device:we(e,t)})}},prepareDeviceInfo:(e,t=me)=>({"device-info":v(e,Ee("deviceInfoMetrics",t,[]))}),prepareClientInfo:()=>({"client-info":{name:"perfill-agent",version:"2.7.1"}}),prepareConnectionInfo:(e,t=me)=>({"connection-info":v(e,Ee("connectionInfoMetrics",t,[]))}),prepareBrowserInfo:(e,t=me)=>({"browser-info":v(e,Ee("browserInfoMetrics",t,[]))})};const{A11Y:Ae}=c,{WINDOW_DOM:he,WINDOW_WIDTH:_e,WINDOW_HEIGHT:Oe}=w,{deviceInfoMetrics:ge,connectionInfoMetrics:De,browserInfoMetrics:Le}=T,{prepareEventTags:Se,prepareClientInfo:Ne}=Ie,{arrayOperator:ye,objectOperator:Re}=l,be=[he,_e,Oe];var Ce=(e,t)=>{const{name:n,version:r}=Ne()["client-info"],{tags:o}=Se(t,e,Ae),a=v(t,ye([ge,De,Le,be]));if(!Object.keys(a).length)throw new Error("Metrics not found");const i=Re({metricsCollected:a,tags:o,client_name:n,client_version:r}),c=[];return Object.keys(i).forEach((e=>{if("window-dom"!==e)c.push([e.replace("-","_"),i[e]]);else{const e=new Blob([i["window-dom"]],{type:"text/html"});c.push(["file",e,"dom.html"])}})),{name:Ae,data:c}};const{AVAILABILITY:Me}=c,{AVAILABILITY_FAILURE:ke,AVAILABILITY_TRANSFER_SIZE:Fe,AVAILABILITY_BROWSER_ERRORS:Be}=w,Pe=[ke,Fe,Be];var We=(e,t)=>{const n=v(t,Pe);if(!Object.keys(n).length)throw new Error("Metrics not found");return{name:Me,data:{[ke]:n[ke],[Fe]:n[Fe],[Be]:n[Be]}}};const{objectOperator:Ue}=l,{CDN_HEALTH:je}=c,{DURATION_SUM:He,RESOURCE_SIZE:Ye,RESOURCE_FAILURE:xe,RESOURCE_SUCCESS:Ve,X_CDN:qe,AVAILABILITY_FAILURE:ze}=w,$e=[qe,Ye,He],Ge=[qe];var Ke=(e,t)=>{const n=v(t,$e);if(!Object.keys(n).length)throw new Error("Metrics not found");const r=Object.keys(n);if(!Ge.every((e=>-1!==r.indexOf(e))))throw new Error("Metrics missing");const o=(t[ze]||[]).length,a=n[Ye]-o;return{name:je,data:Ue({collection:n,[xe]:o,[Ve]:a})}};const{WEB_VITALS:Ze,PAGE_RENDER:Xe,A11Y:Qe,AVAILABILITY:Je,CDN_HEALTH:et}=c,{objectOperator:tt}=l,{prepareEventTags:nt,prepareDeviceInfo:rt,prepareConnectionInfo:ot,prepareClientInfo:at,prepareBrowserInfo:it}=Ie,ct={[Ze]:{builder:X},[Xe]:{builder:ne},[Qe]:{builder:Ce},[Je]:{builder:We},[et]:{builder:Ke}},st=(e,t,n)=>{const{builder:r}=(e=>{if(e.id in ct)return ct[e.id];throw new Error("Initiative not found")})(e);return r(t,n)};var dt={preparePayload:(e,t,n)=>{const r=((e,t,n)=>{try{const r=st(e,t,n),o=nt(n,t);return{"event-info":tt({initiativePayload:r,tags:o})}}catch(e){return null}})(e,t,n);if(!r)return null;const o=at(),a=rt(n),i=ot(n),c=it(n);return tt({clientInfo:o,eventInfo:r,deviceInfo:a,connectionInfo:i,browserInfo:c})},prepareFormData:(e,t,n)=>{try{const{data:r}=st(e,t,n),o=new FormData;return r.forEach((e=>{const[t,n,r]=e;r?o.append(t,n,r):o.append(t,n)})),o}catch(e){return null}}};const ut=(e,t,n=!0)=>{window.fetch(e,{method:"POST",body:t,keepalive:n}).then((e=>e.text())).catch((e=>e))};var lt={beaconWithFetchFallback:(e,t)=>{const n=JSON.stringify(t);window.navigator&&window.navigator.sendBeacon&&window.navigator.sendBeacon(e,n)||ut(e,n)},sendWithFetch:ut,getWithFetch:(e,t={})=>window.fetch(e,t)};const{WEB_VITALS:pt,PAGE_RENDER:Et,A11Y:mt,AVAILABILITY:ft,CDN_HEALTH:Tt}=c,{endpoint:vt}=d,{endpoint:wt}=u,{endpoint:It}=E,{endpoint:At}=m,{endpoint:ht}=T,{preparePayload:_t,prepareFormData:Ot}=dt,{beaconWithFetchFallback:gt,sendWithFetch:Dt}=lt,Lt={},St={[pt]:vt,[Et]:wt,[mt]:ht,[ft]:It,[Tt]:At};var Nt={trackMetric:(e,t)=>{Lt[e]=t},appendMetric:(e,t)=>{(Lt[e]=Lt[e]||[]).push(t)},getMetricsCollected:()=>Lt,sendMetrics:(e,t,n)=>{const r=_t(e,t,n);return!!r&&(gt(St[e.id],r),!0)},sendFormData:(e,t,n)=>{const r=Ot(e,t,n);return!!r&&(Dt(St[e.id],r,!1),!0)}};const{trackMetric:yt}=Nt,{supportsNavigatorApi:Rt}=r,{RAM_SIZE:bt}=w;var Ct=()=>{Rt()&&(window.navigator.deviceMemory&&yt(bt,`${window.navigator.deviceMemory}`),window.navigator.hardwareConcurrency&&yt("cpu-cores",`${window.navigator.hardwareConcurrency}`))};const{trackMetric:Mt}=Nt,{supportsNavigatorApi:kt}=r,{NETWORK_SPEED:Ft,NETWORK_TYPE:Bt,USER_AGENT:Pt}=w;var Wt=()=>{if(!kt())return;const{navigator:e}=window;e.connection&&(e.connection.effectiveType&&Mt(Bt,e.connection.effectiveType),e.connection.downlink&&Mt(Ft,`${e.connection.downlink}`),"saveData"in e.connection&&Mt("save-data",e.connection.saveData),e.connection.rtt&&Mt("rtt",`${e.connection.rtt}`)),e.userAgent&&Mt(Pt,e.userAgent)};var Ut={toFixedNumber:(e,t=6)=>Number.isNaN(e)||!e||Number.isInteger(e)||"string"==typeof e?e:parseFloat(e.toFixed(t)),BIGQUERY_MAX_DECIMALS:6};const{trackMetric:jt}=Nt,{supportsPerformanceApi:Ht}=r,{toFixedNumber:Yt}=Ut,{REDIRECT_COUNT:xt,DOM_COMPLETE:Vt,DOM_INTERACTIVE:qt,DOM_CONTENT_LOADED_END:zt,DOM_CONTENT_LOADED_START:$t,DOM_CONTENT_LOADED:Gt,ONLOAD_END:Kt,ONLOAD_START:Zt,ONLOAD:Xt,REQUEST_START:Qt,RESPONSE_START:Jt,RESPONSE_END:en,RESPONSE_TIME:tn,NAVIGATION_TYPE:nn}=w;var rn=()=>{if(!Ht())return;const[e]=window.performance.getEntriesByType("navigation");if(e){const{domComplete:t,domContentLoadedEventEnd:n,domContentLoadedEventStart:r,domInteractive:o,loadEventEnd:a,loadEventStart:i,redirectCount:c,requestStart:s,responseStart:d,responseEnd:u,type:l}=e;c&&jt(xt,c),t&&jt(Vt,Yt(t)),o&&jt(qt,Yt(o)),n&&jt(zt,Yt(n)),r&&jt($t,Yt(r)),r&&n&&jt(Gt,Yt(n-r)),a&&jt(Kt,Yt(a)),i&&jt(Zt,Yt(i)),i&&a&&jt(Xt,Yt(a-i)),s&&jt(Qt,Yt(s)),d&&jt(Jt,Yt(d)),u&&jt(en,Yt(u)),d&&u&&jt(tn,Yt(u-d)),l&&jt(nn,l)}},on={t:!1,i:!1,o:3e4},an=window,cn=an.console,sn=document,dn=an.navigator,un=an.performance,ln=function(){return dn.deviceMemory},pn=function(){return dn.hardwareConcurrency},En=function(){return un&&!!un.getEntriesByType&&!!un.now&&!!un.mark},mn="4g",fn=!1,Tn=function(){return!!(pn()&&pn()<=4)||!!(ln()&&ln()<=4)},vn=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return Tn()||t}},wn={u:!1},In=function(e){sn.hidden&&(e(),wn.u=sn.hidden)},An=function(e){return parseFloat(e.toFixed(4))},hn=function(e){return"number"!=typeof e?null:An(e/Math.pow(1024,2))},_n=[2e3,4e3],On=[2500,4e3],gn=[.1,.25],Dn={ttfb:[200,500],fp:_n,fcp:_n,lcp:On,lcpFinal:On,fid:[100,300],cls:gn,clsFinal:gn,tbt:[200,600],ntbt:[200,600]},Ln=function(e,t){return Dn[e]?t<=Dn[e][0]?"good":t<=Dn[e][1]?"needsImprovement":"poor":null},Sn=function(e,t,n){var r;r=function(){wn.u&&e.indexOf("Final")<0||!on.analyticsTracker||on.analyticsTracker({metricName:e,data:t,eventProperties:n||{},navigatorInformation:dn?{deviceMemory:ln()||0,hardwareConcurrency:pn()||0,serviceWorkerStatus:"serviceWorker"in dn?dn.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:Tn(),isLowEndExperience:vn(mn,fn)}:{},vitalsScore:Ln(e,t)})},"requestIdleCallback"in an?an.requestIdleCallback(r,{timeout:3e3}):r()},Nn=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=An(t[e]))})),Sn(e,t,n)},yn=function(e,t,n){var r=An(e);r<=on.o&&r>=0&&Sn(t,r,n)},Rn={},bn={value:0},Cn={value:0},Mn={value:0},kn={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},Fn={value:0},Bn={value:0},Pn=function(e){var t=e.pop();t&&!t.s&&t.value&&(bn.value+=t.value)},Wn={},Un=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){cn.warn("Perfume.js:",e)}return null},jn=function(e){Wn[e]&&Wn[e].disconnect(),delete Wn[e]},Hn=function(e){var t=e.pop();t&&yn(t.processingStart-t.startTime,"fid",{performanceEntry:t}),jn(1),yn(Mn.value,"lcp"),Wn[3]&&"function"==typeof Wn[3].takeRecords&&Wn[3].takeRecords(),yn(bn.value,"cls"),setTimeout((function(){yn(Fn.value,"tbt"),Nn("dataConsumption",kn.value)}),1e4)},Yn=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<Cn.value)){var t=e.duration-50;t>0&&(Fn.value+=t,Bn.value+=t)}}))},xn=function(e){e.forEach((function(e){"first-paint"===e.name?yn(e.startTime,"fp"):"first-contentful-paint"===e.name&&(Cn.value=e.startTime,yn(Cn.value,"fcp"),Wn[4]=Un("longtask",Yn),jn(0))}))},Vn=function(e){var t=e.pop();t&&(Mn.value=t.renderTime||t.loadTime)},qn=function(e){e.forEach((function(e){e.identifier&&yn(e.startTime,e.identifier)}))},zn=function(e){e.forEach((function(e){if(on.t&&Nn("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;kn.value[e.initiatorType]+=t,kn.value.total+=t}}))},$n=function(){Wn[2]&&(yn(Mn.value,"lcpFinal"),jn(2)),Wn[3]&&("function"==typeof Wn[3].takeRecords&&Wn[3].takeRecords(),yn(bn.value,"clsFinal"),jn(3))},Gn=function(e){var t="usageDetails"in e?e.usageDetails:{};Nn("storageEstimate",{quota:hn(e.quota),usage:hn(e.usage),caches:hn(t.caches),indexedDB:hn(t.indexedDB),serviceWorker:hn(t.serviceWorkerRegistrations)})},Kn=0,Zn=function(){function e(e){if(void 0===e&&(e={}),this.l="7.0.0",on.analyticsTracker=e.analyticsTracker,on.t=!!e.resourceTiming,on.i=!!e.elementTiming,on.o=e.maxMeasureTime||on.o,En()){"PerformanceObserver"in an&&(Wn[0]=Un("paint",xn),Wn[1]=Un("first-input",Hn),Wn[2]=Un("largest-contentful-paint",Vn),on.t&&Un("resource",zn),Wn[3]=Un("layout-shift",Pn),on.i&&Un("element",qn)),void 0!==sn.hidden&&sn.addEventListener("visibilitychange",In.bind(this,$n));var t=function(){if(!En())return{};var e=un.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();Nn("navigationTiming",t),t.timeToFirstByte&&yn(t.timeToFirstByte,"ttfb"),Nn("networkInformation",function(){if("connection"in dn){var e=dn.connection;return"object"!=typeof e?{}:(mn=e.effectiveType,fn=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),dn&&dn.storage&&"function"==typeof dn.storage.estimate&&dn.storage.estimate().then(Gn)}}return e.prototype.start=function(e){En()&&!Rn[e]&&(Rn[e]=!0,un.mark("mark_"+e+"_start"),wn.u=!1)},e.prototype.end=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=!0),En()&&Rn[e]){un.mark("mark_"+e+"_end"),delete Rn[e];var r=function(e){un.measure(e,"mark_"+e+"_start","mark_"+e+"_end");var t=un.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e);n&&Nn(e,An(r),t)}},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete Rn[e],un.clearMarks&&(un.clearMarks("mark_"+e+"_start"),un.clearMarks("mark_"+e+"_end"))},e.prototype.markNTBT=function(){var e=this;this.start("ntbt"),Bn.value=0,clearTimeout(Kn),Kn=setTimeout((function(){e.end("ntbt",{},!1),yn(Bn.value,"ntbt"),Bn.value=0}),2e3)},e}();const{trackMetric:Xn,sendMetrics:Qn,getMetricsCollected:Jn}=Nt,{LCP_FINAL:er,CLS_FINAL:tr,LCP:nr,CLS:rr,TBT:or,WORKER_TIME:ar,TOTAL_TIME:ir,TTFB:cr,HEADER_SIZE:sr,FETCH_TIME:dr,DOWNLOAD_TIME:ur,DNS_LOOKUP_TIME:lr,TBT_FINAL:pr}=w;const{trackMetric:Er}=Nt,{supportsEnvironment:mr,supportsMatchMediaApi:fr}=r,{D2ID:Tr,DARK_MODE:vr,REDUCED_MOTION:wr,REDUCED_COLOR:Ir,URL:Ar}=w,hr=/(?:_d2id=)([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})/;var _r=()=>{const e=function(e){if(!e)return null;const t=e.match(hr);return t?t[1]:t}("undefined"!=typeof document&&document.cookie);if(e&&Er(Tr,`${e}`),mr()&&Er(Ar,`${window.location.origin}${window.location.pathname}`),fr()){Er(vr,window.matchMedia("(prefers-color-scheme: dark)").matches);const e=!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches;Er(wr,e);const t=!0===window.matchMedia("(prefers-contrast: custom), (prefers-contrast: less), (prefers-contrast: more)").matches||!0===window.matchMedia("(forced-colors: active)").matches;Er(Ir,t)}};const{trackMetric:Or}=Nt,{supportsPreloadState:gr,supportsWeakSet:Dr}=r,{INITIAL_CONTENT_SIZE:Lr}=w;var Sr=()=>{try{if(gr()&&Dr()){const e=JSON.stringify(window.__PRELOADED_STATE__,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})());Or(Lr,e.length)}}catch(e){}};const{prepareConfiguration:Nr}=le,{supportsPerformanceApi:yr,supportsBeaconOrFetch:Rr}=r;var br={start:(e,t)=>{const n=Nr(e);if(n)try{yr()&&Rr()&&(((e,t)=>{let n=!1;new Zn({analyticsTracker:r=>{if(n)return;const{metricName:o,data:a}=r;o===er&&Xn(nr,a),o===tr&&Xn(rr,a),o===pr&&Xn(or,a),"navigationTiming"===o&&a&&"object"==typeof a&&(Xn(lr,a.dnsLookupTime),Xn(ur,a.downloadTime),Xn(dr,a.fetchTime),Xn(sr,a.headerSize),Xn(cr,a.timeToFirstByte),Xn(ir,a.totalTime),Xn(ar,a.workerTime)),Xn(o,a),n=Qn(t,e,Jn())}})})(n,t),Ct(),Wt(),_r(),rn(),Sr())}catch(e){}}};var Cr={commands:{SET_COOKIE:"set-cookie"},endpoint:"https://events.mercadolibre.com/v2/client-cookies"};const{CLIENT_COOKIES:Mr}=c,{commands:kr,endpoint:Fr}=Cr,{subscribe:Br}=i,{beaconWithFetchFallback:Pr}=lt,{objectOperator:Wr}=l,{prepareClientInfo:Ur,prepareTags:jr}=Ie;let Hr=[];const Yr=e=>{if(1!==e.length||!e[0])throw new Error;return e[0]},xr={path:Yr,domain:Yr,expires:Yr,samesite:Yr,"max-age":e=>{const t=parseInt(Yr(e),10);if(Number.isNaN(t))throw new Error;return t},secure:e=>{if(e.length)throw new Error;return!0}},Vr=(e,t)=>{e["unknown-metadata"]=`${e["unknown-metadata"]?`${e["unknown-metadata"]};`:""}${t}`},qr=window.requestIdleCallback||(e=>setTimeout(e,200));let zr=!1;const $r={[kr.SET_COOKIE]:(e,t,n)=>{const r=((e,t=null)=>{if(!e)return null;const n=e.split(";").reduce(((e,t,n)=>{const r=t.trim();if(!r)return e;const o=r.split("=").map((e=>e.trim())),a=o[0];if(!n)return a&&2===o.length&&(e.name=a),e;const i=a.toLowerCase(),c=xr[i];if(c)try{e[i]=c(o.slice(1))}catch(n){Vr(e,t)}else Vr(e,t);return e}),{name:null,path:null,domain:null,"max-age":null,expires:null,samesite:null,secure:null,"unknown-metadata":null,"user-preferences":t});return n.name?n:null})(e,n);r&&(Hr.push(r),(e=>{const t=()=>{if("hidden"===window.document.visibilityState){const n=Ur(),r=jr(e);Pr(Fr,Wr({clientInfo:n,tags:r,cookies:Hr})),Hr=[],window.document.removeEventListener("visibilitychange",t),zr=!1}};zr||(window.document.addEventListener("visibilitychange",t),zr=!0)})(t))}};var Gr=e=>{Br(Mr,(t=>{t&&$r[t.type]&&qr((()=>$r[t.type](t.data,e,t.userPreferences)))}))};const{supportsBeaconOrFetch:Kr}=r;var Zr={start:e=>{try{Kr()&&Gr(e)}catch(e){}}};const{PAGE_RENDER:Xr}=c,{trackMetric:Qr,sendMetrics:Jr,getMetricsCollected:eo}=Nt,{subscribe:to}=i,no=window.requestIdleCallback||(e=>setTimeout(e,200)),ro="pageRenderEvent";let oo=!1;const ao=(e,t)=>{e.forEach((e=>{Qr(e.metric,e.value)})),(e=>{const t=()=>{"hidden"===window.document.visibilityState&&(Jr({id:Xr},e,eo()),window.document.removeEventListener(ro,t),oo=!1)};oo||(window.document.addEventListener(ro,t),oo=!0),window.document.addEventListener("visibilitychange",(()=>{const e=new window.Event(ro);window.document.dispatchEvent(e)}))})(t)};var io=e=>{to(Xr,(t=>{t&&no((()=>ao(t,e)))}))};const{prepareConfiguration:co}=le,{supportsBeaconOrFetch:so}=r;var uo={start:e=>{const t=co(e);if(t)try{so()&&(Ct(),Wt(),io(t),_r())}catch(e){}}};const{arrayOperator:lo}=l,po=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],Eo={STYLE:!0,IFRAME:!0,SCRIPT:!0,svg:!0,path:!0},mo={"data-hj-suppress":!0,"data-hj-suppressed":!0,"data-hj-masked":!0,"data-pii-mask":!0,"nav-header-username":!0},fo={address:!0,address1:!0,address2:!0,addressline1:!0,addressline2:!0,cell:!0,cellphone:!0,dateofbirth:!0,dob:!0,email:!0,familyname:!0,firstname:!0,fullname:!0,lastname:!0,firstName:!0,fullName:!0,lastName:!0,phone:!0,postalcode:!0,postcode:!0,surname:!0,tel:!0,telephone:!0,username:!0,zip:!0,zipcode:!0,nationalinsurancenumber:!0,nin:!0,ppsn:!0,security:!0,securitynum:!0,socialsec:!0,socialsecuritynumber:!0,socsec:!0,ssn:!0,authpw:!0,contrasena:!0,contrasenya:!0,pass:!0,passord:!0,password:!0,passwort:!0,pw:!0,pwd:!0,pword:!0,pwrd:!0,sapwd:!0,senha:!0,userpw:!0,userpwd:!0,cc:!0,cccsc:!0,cccvc:!0,cccvv:!0,ccexp:!0,ccexpiry:!0,ccexpmonth:!0,ccexpyear:!0,ccname:!0,ccnum:!0,ccnumber:!0,cctype:!0,creditcard:!0,csc:!0,cvc:!0,cvv:!0,exp:!0,accountnum:!0,accountnumber:!0,bic:!0,iban:!0,ibanaccountnum:!0,ibanaccountnumber:!0,pin:!0,pinnum:!0,secq:!0,secret:!0,secretq:!0,secretquestion:!0,securityq:!0,securityquestion:!0,sortcode:!0,swift:!0,buyerEmail:!0,nickname:!0,buyerFullName:!0,buyerPhone:!0,buyerId:!0,sellerId:!0,first_name:!0,last_name:!0,secure_email:!0,issuerName:!0,expirationMonth:!0,expirationYear:!0,lastFourDigits:!0},To={A:["href"],INPUT:["value","placeholder"],TEXTAREA:["value","placeholder"],OPTION:["label","value"],PROGRESS:["value"],OPTGROUP:["label"],IMG:["alt"],DIV:["title"],DEFAULT:["textContent"]},vo=/[.*+?^${}()|[\]\\]/g,wo=e=>e.replace(vo,"\\$&"),Io=e=>{const t=[];for(let n=0;n<e;n++)t.push(po[Math.floor(Math.random()*po.length)]);return t.join("")},Ao=new RegExp("[\\s_-]+","g"),ho=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,_o=/\d+/,Oo=/[^@\s]+@[^@\s]+\.[^@\s]+/,go=/(?:\d{1,3}\.){3}\d{1,3}/,Do=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,Lo=(e,t="")=>(e=>lo([e.classList||[]]).some((e=>mo[e])))(e)||(e=>[e.name,e.id].map((e=>e?e.replace(Ao,"").toLowerCase():e)).some((e=>fo[e])))(e)||(e=>_o.test(e))(t)||(e=>ho.test(e))(t)||(e=>e.indexOf("@")>-1&&Oo.test(e))(t)||(e=>go.test(e)||Do.test(e))(t),So=e=>{const t=[];return lo([e]).forEach((e=>{if(Eo[e.tagName])return;if((e.children||[]).length>0)return;const n=lo([To.DEFAULT,To[e.tagName]||[]]).reduce(((t,n)=>{const r=e[n],o=Lo(e,r);return r&&o&&t.push(r),t}),[]);n.length&&t.push({el:e.outerHTML,attrs:n})})),t},No=new RegExp(/[a-zA-Z0-9äÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.]/,"i"),yo=e=>{const t=[{original:"<iframe.*?>.*<\\/iframe>",translated:""},{original:"<noscript.*?>.*<\\/noscript>",translated:""},{original:'"(addresses)":+\\s*[[][\\s\\S]*?[]],*',translated:""},{original:'"(phone|address|address|alternative_phone|identification)":+\\s*[{][\\s\\S]*?[}],*',translated:""},{original:"(user)+\\s*:\\s*[{]+[\\s\\S]*?[}]+?",translated:"$1: {}"},{original:"[a-z0-9.+-]+@+[a-z0-9.+-]+",translated:"removed@domain.now"},{original:`"(${Object.keys(fo).join("|")})"+\\s*:\\s*"+[a-z0-9.+-\\s]+"+?`,translated:'"$1":"abc123"'},{original:`"(${Object.keys(fo).join("|")})"+\\s*:\\s*[^"][0-9]+`,translated:'"$1":123987546'}];return e.reduce(((e,t)=>{const n=t.el;return t.attrs.forEach((e=>{t.el=t.el.replace(e,(e=>e.startsWith("http")?"#":e.split(" ").map((e=>No.test(e)?Io(e.length):e)).join(" "))(e))})),e.push({original:wo(n),translated:wo(t.el)}),e}),t)};var Ro={anonymizeDOM:e=>{const t=So(((e="*")=>document.body.querySelectorAll(e))()),n=yo(t);return re(n,e)},generateRandomText:Io,shouldSuppressData:Lo,extractMessages:So,generateTranslations:yo};const{A11Y:bo}=c,{WINDOW_DOM:Co}=w,{trackMetric:Mo,sendFormData:ko,getMetricsCollected:Fo}=Nt,{anonymizeDOM:Bo}=Ro,Po=window.requestIdleCallback||(e=>setTimeout(e,200));let Wo=!1;const Uo=e=>{Wo||(Wo=ko({id:bo},e,Fo()))},jo=e=>{try{(()=>{const{document:e}=window;if(!e||!e.documentElement||!e.documentElement.outerHTML)throw new Error("DOM not found");const t=Bo(e.documentElement.outerHTML);Mo(Co,t)})(),Uo(e)}catch(e){}};var Ho=e=>{Po((()=>jo(e)))};const{trackMetric:Yo}=Nt,{WINDOW_HEIGHT:xo,WINDOW_WIDTH:Vo}=w;var qo=()=>{const{innerWidth:e,innerHeight:t}=window;e&&Yo(Vo,`${e}`),t&&Yo(xo,`${t}`)};const{prepareConfiguration:zo}=le,{supportsFetchApi:$o}=r;var Go={start:e=>{const t=zo(e);if(t)try{$o()&&(Ct(),Wt(),qo(),Ho(t),_r())}catch(e){}}};const{AVAILABILITY:Ko}=c,{AVAILABILITY_FAILURE:Zo,AVAILABILITY_TRANSFER_SIZE:Xo,AVAILABILITY_BROWSER_ERRORS:Qo}=w,{appendMetric:Jo,sendMetrics:ea,getMetricsCollected:ta}=Nt,{subscribe:na}=i,ra=window.requestIdleCallback||(e=>setTimeout(e,200)),oa="availabilityEvent";let aa=!1;const ia=e=>{(e=>{const t=()=>{"hidden"===window.document.visibilityState&&(ea({id:Ko},e,ta()),window.document.removeEventListener(oa,t),aa=!1)};aa||(window.document.addEventListener(oa,t),aa=!0),window.document.addEventListener("visibilitychange",(()=>{const e=new window.Event(oa);window.document.dispatchEvent(e)}))})(e)};var ca=e=>{na(Zo,(e=>{e&&Jo(Zo,e)})),na(Xo,(e=>{e&&Jo(Xo,e)})),na(Qo,(e=>{e&&Jo(Qo,e)})),ra((()=>ia(e)))};const{AVAILABILITY_FAILURE:sa}=w,{queue:da}=i;var ua=()=>{const{_pfl:e}=window;(e||[]).forEach((e=>{const[t,n]=e;da(sa,{filename:n,initiator:t,value:1})}))};const{appendMetric:la}=Nt,{supportsPerformanceApi:pa}=r,{AVAILABILITY_TRANSFER_SIZE:Ea}=w,{thresholdEntries:ma,fileSupport:fa}=E,Ta=e=>e.substring(e.lastIndexOf(".")+1,e.length),va=e=>{const t=Ta(e);return Object.keys(fa).find((e=>fa[e].some((e=>e===t))))},wa=e=>{const{type:t,value:n,name:r}=e;n>(ma[t]||0)&&la(Ea,{filename:r,initiator:t,value:n})};var Ia=()=>{(()=>{if(!pa())return[];const{performance:e}=window,t=Object.keys(fa).reduce(((e,t)=>e.concat(fa[t])),[]);return e.getEntries().filter((e=>t.some((t=>t===Ta(e.name))))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t)).map((e=>{const t=e.encodedBodySize&&e.encodedBodySize>0?e.encodedBodySize:e.transferSize;return{name:e.name,type:va(e.name),value:t}}))})().forEach(wa)};const{prepareConfiguration:Aa}=le,{supportsBeaconOrFetch:ha}=r;var _a={start:e=>{const t=Aa(e);if(t)try{ha()&&(Ct(),Wt(),ca(t),ua(),Ia(),_r())}catch(e){}}};const{CDN_HEALTH:Oa}=c,{AVAILABILITY_FAILURE:ga}=w,{appendMetric:Da,sendMetrics:La,getMetricsCollected:Sa}=Nt,{subscribe:Na}=i,ya=window.requestIdleCallback||(e=>setTimeout(e,200)),Ra="cdnHealthEvent";let ba=!1;const Ca=e=>{(e=>{const t=()=>{"hidden"===window.document.visibilityState&&(La({id:Oa},e,Sa()),window.document.removeEventListener(Ra,t),ba=!1)};ba||(window.document.addEventListener(Ra,t),ba=!0),window.document.addEventListener("visibilitychange",(()=>{const e=new window.Event(Ra);window.document.dispatchEvent(e)}))})(e)};var Ma=e=>{Na(ga,(e=>{e&&Da(ga,e)})),ya((()=>Ca(e)))};const{trackMetric:ka}=Nt,{supportsFetchApi:Fa}=r,{getWithFetch:Ba}=lt,{X_CDN:Pa}=w,Wa={g:"google",a:"akamai"};var Ua=()=>Fa()?Ba("https://http2.mlstatic.com/cdn/ping.gif").then((e=>{if(e.headers.has("x-cdn")){const t=e.headers.get("x-cdn");ka(Pa,Wa[t])}})).catch((e=>e)):null;const{trackMetric:ja}=Nt,{supportsPerformanceApi:Ha}=r,{toFixedNumber:Ya}=Ut,{DURATION_SUM:xa,RESOURCE_SIZE:Va}=w;var qa=()=>{if(!Ha())return;const e=window.performance.getEntriesByType("resource").filter((e=>new RegExp("http2.mlstatic.com").test(e.name))),t=e.reduce(((e,t)=>e+=t.duration),0);ja(xa,Ya(t)),ja(Va,e.length)};const{prepareConfiguration:za}=le,{supportsBeaconOrFetch:$a}=r;var Ga={start:e=>{const t=za(e);if(t)try{$a()&&(Ua(),ua(),Ma(t),qa(),Ct(),Wt(),_r())}catch(e){}}};const{objectOperator:Ka}=l,{AVAILABILITY:Za,CDN_HEALTH:Xa}=c,{start:Qa}=Ga,{start:Ja}=_a;var ei={start:e=>{Qa(Ka({args:e,id:Xa})),Ja(Ka({args:e,id:Za}))}};const{WEB_VITALS:ti,CLIENT_COOKIES:ni,PAGE_RENDER:ri,A11Y:oi,AVAILABILITY:ai,CDN_HEALTH:ii,TRAFFIC_HEALTH:ci}=c;var si={[ti]:br,[ni]:Zr,[ri]:uo,[oi]:Go,[ai]:_a,[ii]:Ga,[ci]:ei};const{supportsEnvironment:di}=r,{queue:ui}=i,{agentKey:li}={agentKey:"_perfill"},pi={},Ei=()=>(pi.initiatives||[]).forEach((e=>{e&&e.id&&si[e.id]&&si[e.id].start(pi,e)})),mi=()=>{window.requestIdleCallback?window.requestIdleCallback(Ei,{timeout:2e3}):setTimeout(Ei,500)};let fi=!1;const Ti={set:(e,t)=>{pi[e]=t},queue:ui,send:e=>{e in Ti&&Ti[e]()},start:()=>{!fi&&di()&&(fi=!0,"complete"===window.document.readyState?mi():window.addEventListener("load",mi))}},vi=e=>{try{const t=e[0],n=Ti[t];t&&n&&n.apply(null,[].slice.call(e,1))}catch(e){}};return(()=>{const e=(window[li]||{}).q||[];window[li]=(...e)=>vi(e);try{e.forEach(vi)}catch(e){}})()}();
//# sourceMappingURL=perfill-agent.min.js.map
